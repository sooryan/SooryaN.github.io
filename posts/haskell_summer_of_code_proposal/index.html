<!doctype html><html lang=en>
<head>
<title>Hackage Improvements: HSoC proposal :: soorya.dev</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="I participated in the 2016 Haskell Summer of code working on Hackage, the haskell community's repository of software. Here is the accepted proposal.">
<meta name=keywords content=",">
<meta name=robots content="noodp">
<link rel=canonical href=/posts/haskell_summer_of_code_proposal/>
<link rel=stylesheet href=/assets/style.css>
<link rel=stylesheet href=/assets/blue.css>
<link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png>
<link rel="shortcut icon" href=/img/favicon/blue.png>
<meta name=twitter:card content="summary">
<meta name=twitter:site content>
<meta name=twitter:creator content>
<meta property="og:locale" content="en">
<meta property="og:type" content="article">
<meta property="og:title" content="Hackage Improvements: HSoC proposal">
<meta property="og:description" content="I participated in the 2016 Haskell Summer of code working on Hackage, the haskell community's repository of software. Here is the accepted proposal.">
<meta property="og:url" content="/posts/haskell_summer_of_code_proposal/">
<meta property="og:site_name" content="soorya.dev">
<meta property="og:image" content="/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">
<meta property="article:published_time" content="2016-05-20 23:19:12 +0800 +08">
</head>
<body class=blue>
<div class="container center headings--one-size"><!doctype html>
<html>
<head>
<title></title>
</head>
<body>
<header class=header>
<div class=header__inner>
<div class=header__logo>
<a href=/>
<div class=logo>
soorya.dev
</div>
</a>
</div>
<div class=menu-trigger>
menu
</div>
</div> <nav class=menu>
<ul class="menu__inner menu__inner--desktop">
<li><a href=/>Home</a></li>
<li><a href=/art/>Art</a></li>
<li><a href=/posts/>Posts</a></li>
<li><a href=https://drive.google.com/file/d/1BceOTvPkAJkJyFEktdUHpCmDz6SPX1bR/preview>Resume</a></li>
</ul>
<ul class="menu__inner menu__inner--mobile">
<li><a href=/>Home</a></li>
<li><a href=/art/>Art</a></li>
<li><a href=/posts/>Posts</a></li>
<li><a href=https://drive.google.com/file/d/1BceOTvPkAJkJyFEktdUHpCmDz6SPX1bR/preview>Resume</a></li>
</ul>
</nav>
</header>
</body>
</html>
<div class=content>
<div class=post>
<h1 class=post-title>
<a href=/posts/haskell_summer_of_code_proposal/>Hackage Improvements: HSoC proposal</a></h1>
<div class=post-meta>
<span class=post-date>
2016-05-20
</span>
<span class=post-author>:: Soorya Narayan</span>
</div>
<span class=post-tags>
#<a href=/tags/haskell/>haskell</a>&nbsp;
#<a href=/tags/open_source/>open_source</a>&nbsp;
#<a href=/tags/hsoc/>hsoc</a>&nbsp;
</span>
<div class=post-content><div>
<p>I participated in the 2016 Haskell Summer of code working on Hackage, the haskell community&rsquo;s repository of software. Here is the accepted proposal.</p>
<h2 id=what-is-the-goal-of-your-project-what-is-the-goal-of-your-projectwhat-is-the-goal-of-your-project><a href=#What-is-the-goal-of-your-project title="What is the goal of your project?"></a>What is the goal of your project?<a href=#what-is-the-goal-of-your-project-what-is-the-goal-of-your-projectwhat-is-the-goal-of-your-project class=hanchor arialabel=Anchor>&#8983;</a> </h2>
<p>Hackage 2.0 offers a lot of features but some of them aren’t fleshed out fully or could use some additions Issuimprove usability and functionality. This project aims at addressing a few of them.</p>
<ul>
<li>
<p>Issue Tracker:</p>
<ul>
<li>for filing bugs in Hackage web interface and other hackage related issues with a hook to notify the developers</li>
<li>To handle package requests: There are two types of requests that can be filed
<ul>
<li>Bounds Request: Request to change package metadata – i.e. upper/lower bounds on deps. This can be done with a “revision” by a maintainer or a hackage trustee without a new upload.</li>
<li>Orphan Request: Request a package to be disowned, e.g. when the maintainer is inactive and the package has been flagged out-of-date for a long time.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Modifications to the Package Page:</p>
<ul>
<li>Allow for provisions to add wiki/mailing list links for relevant discussions: Very often, at least with older packages, there seems to be very few usage guidelines and examples. Linking to discussions elsewhere can get a new user upto speed</li>
<li>Keep track of reverse dependencies (Related Fun Addition: A visualization that maps dependencies and reverse dependencies across all packages (I just love graphs!))</li>
<li>A better interface for votes: It’s not very usable right now. Making the UI for voting more obvious and easy to use would help eg a clickable star based system</li>
<li>Add a last updated stamp (very few packages have it at present. It’s not easy to identify how recent/relevant the package is)</li>
</ul>
</li>
<li>
<p>Tags and Categories:</p>
<ul>
<li>Abandon categories and switch over to tags completely. Categories and Tags seem to more or less serve the same purpose. It makes sense to have multiple tags describe a package as opposed to having it being fit into a rigid category.</li>
<li>Social tagging: (This can be an opt-in feature for maintainers) A system to allow for any user to propose new tags with only the maintainers allowed to accept. This will greatly increase package discoverability. Again, hooks would need to be added to notify the maintainers of any new suggestions.</li>
</ul>
</li>
<li>
<p>Better searching:</p>
</li>
</ul>
<p>Searching at present doesn’t offer very much.</p>
<table>
<thead>
<tr>
<th>Package Name</th>
<th>Author</th>
<th>Version</th>
<th>Description</th>
<th>Tags</th>
<th>Last Updated</th>
<th>Votes</th>
<th>Downloads</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Using a template like above</p>
<ul>
<li>Extend search to filter based on tags (multiple tags), module names, author names etc</li>
<li>Allow for packages to be ordered by downloads, update times, reverse dependencies etc</li>
<li>Allow for autocompletion by partial name search</li>
</ul>
<h2 id=can-you-give-some-more-detailed-design-of-what-precisely-you-intend-to-achieve-can-you-give-some-more-detailed-design-of-what-precisely-you-intend-to-achievecan-you-give-some-more-detailed-design-of-what-precisely-you-intend-to-achieve><a href=#Can-you-give-some-more-detailed-design-of-what-precisely-you-intend-to-achieve title="Can you give some more detailed design of what precisely you intend to achieve?"></a>Can you give some more detailed design of what precisely you intend to achieve?<a href=#can-you-give-some-more-detailed-design-of-what-precisely-you-intend-to-achieve-can-you-give-some-more-detailed-design-of-what-precisely-you-intend-to-achievecan-you-give-some-more-detailed-design-of-what-precisely-you-intend-to-achieve class=hanchor arialabel=Anchor>&#8983;</a> </h2>
<h3 id=issue-tracker-issue-trackerissue-tracker><a href=#Issue-tracker title="Issue tracker"></a>Issue tracker<a href=#issue-tracker-issue-trackerissue-tracker class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>At present, to file any issues, users will have to contact the authors/maintainers (who may no longer be active). By having a public
tracker for hackage related issues, issues will have a much higher visibility and thus, a higher chance of being resolved.<br>
As for implementation, a new acid-state instance with a web front end should be straightforward. A sample schema can be like in
<a href=https://gist.github.com/SooryaN/10e7cdfd5ced92561c919537890d092b#file-bug-yaml>bug.yaml</a>.</p>
<h3 id=reverse-dependencies-reverse-dependenciesreverse-dependencies><a href=#Reverse-Dependencies title="Reverse Dependencies"></a>Reverse Dependencies<a href=#reverse-dependencies-reverse-dependenciesreverse-dependencies class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>Keeping track of reverse dependencies could help usability in a number of ways. For instance, along with efficient tagging, it’ll allow for
suggesting related packages, for exploring, and also for calculating a PackageRank(tm).<br>
The implementation is still an open issue though. It could be implemented using an external store or something simple like a csv or a json file. Using acid-state to simply count and list the reverse dependencies without storing the actual branching details is also a possibility.</p>
<h3 id=votes-votesvotes><a href=#Votes title=Votes></a>Votes<a href=#votes-votesvotes class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>This will involve reusing the code behind <a href=http://hackage.haskell.org/packages/votes>http://hackage.haskell.org/packages/votes</a>
to accomodate an out of 5 stars rating system. The average rating of a package will be appended to the search/ browse page. The user can click and vote on packages either in the search page itself or in the individual package pages.</p>
<h3 id=tags-tagstags><a href=#Tags title=Tags></a>Tags<a href=#tags-tagstags class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>At present, the <code>.cabal</code> file of a package has a category field. The same field can be extended to hold multiple values that can be parsed
into tags.<br>
This would ensure that existing packages arent affected in any way. A far as social tagging is concerned, a simple “opt in to tagging?”
message can be appended to the upload page.</p>
<h3 id=search-searchsearch><a href=#Search title=Search></a>Search<a href=#search-searchsearch class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>Relevant issues to fix:</p>
<ul>
<li>Substring search (<a href=https://github.com/haskell/hackage-server/issues/208>#208</a>)</li>
<li>Searching and Coalescing Tags (<a href=https://github.com/haskell/hackage-server/issues/27>#27</a>), (<a href=https://github.com/haskell/hackage-server/issues/24>#24</a>)</li>
</ul>
<p>Additions:<br>
This will involve redesigning the present search page and devising a method to integrate substring search into the present keyword-based
search in order to implement autocompletion and partial name search. One approach would be to build a prefix tree with the words in the
corpus as keys and their frequencies as values.</p>
<h2 id=do-you-have-a-mentor-in-mind-do-you-have-a-mentor-in-minddo-you-have-a-mentor-in-mind><a href=#Do-you-have-a-mentor-in-mind title="Do you have a mentor in mind?"></a>Do you have a mentor in mind?<a href=#do-you-have-a-mentor-in-mind-do-you-have-a-mentor-in-minddo-you-have-a-mentor-in-mind class=hanchor arialabel=Anchor>&#8983;</a> </h2>
<p>I talked to dcoutts, hvr and sclv at #hackage and they said that they’d be ready to mentor/ assign a mentor for the summer.</p>
<h2 id=what-deliverables-do-you-think-are-reasonable-targets-what-deliverables-do-you-think-are-reasonable-targetswhat-deliverables-do-you-think-are-reasonable-targets><a href=#What-deliverables-do-you-think-are-reasonable-targets title="What deliverables do you think are reasonable targets?"></a>What deliverables do you think are reasonable targets?<a href=#what-deliverables-do-you-think-are-reasonable-targets-what-deliverables-do-you-think-are-reasonable-targetswhat-deliverables-do-you-think-are-reasonable-targets class=hanchor arialabel=Anchor>&#8983;</a> </h2>
<ul>
<li>An issue tracker</li>
<li>A method to handle reverse dependencies</li>
<li>Improvements to tagging</li>
<li>An improved search experience</li>
</ul>
<h2 id=can-you-outline-an-approximate-schedule-of-milestones-can-you-outline-an-approximate-schedule-of-milestonescan-you-outline-an-approximate-schedule-of-milestones><a href=#Can-you-outline-an-approximate-schedule-of-milestones title="Can you outline an approximate schedule of milestones?"></a>Can you outline an approximate schedule of milestones?<a href=#can-you-outline-an-approximate-schedule-of-milestones-can-you-outline-an-approximate-schedule-of-milestonescan-you-outline-an-approximate-schedule-of-milestones class=hanchor arialabel=Anchor>&#8983;</a> </h2>
<h3 id=before-june-12th-before-june-12thbefore-june-12th><a href=#Before-June-12th title="Before June 12th"></a>Before June 12th<a href=#before-june-12th-before-june-12thbefore-june-12th class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>I’ll use this period to get acquainted my the mentor and become familiar with the hackage codebase.<br>
I’ll also plan out what to do in the later phases, possibly with mockups and blog posts and solicit feedback for these plans. At the end of this period, I should have a roadmap of what to do and how to do it.</p>
<h3 id=june-13th-july-13th-june-13th---july-13thjune-13th---july-13th><a href=#June-13th-July-13th title="June 13th - July 13th"></a>June 13th - July 13th<a href=#june-13th-july-13th-june-13th---july-13thjune-13th---july-13th class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>I’ll finish up with the tagging and the issue tracker along with their integration into the package pages.</p>
<h3 id=july-13th-august-5th-july-13th---august-5thjuly-13th---august-5th><a href=#July-13th-August-5th title="July 13th - August 5th"></a>July 13th - August 5th<a href=#july-13th-august-5th-july-13th---august-5thjuly-13th---august-5th class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>This period would be spent working on and the search algorithm and interface</p>
<h3 id=august-5th-august-25th-august-5th---august-25thaugust-5th---august-25th><a href=#August-5th-August-25th title="August 5th - August 25th"></a>August 5th - August 25th<a href=#august-5th-august-25th-august-5th---august-25thaugust-5th---august-25th class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>I’ll be working through an efficient way to keep track of reverse dependencies.</p>
<h3 id=after-august-25th-after-august-25thafter-august-25th><a href=#After-August-25th title="After August 25th"></a>After August 25th<a href=#after-august-25th-after-august-25thafter-august-25th class=hanchor arialabel=Anchor>&#8983;</a> </h3>
<p>Any remaining time will be spent fine tuning the work done in the first two months, writing documentation and cleaning up the codebase</p>
<h2 id=in-what-ways-will-this-project-benefit-the-wider-haskell-community-in-what-ways-will-this-project-benefit-the-wider-haskell-communityin-what-ways-will-this-project-benefit-the-wider-haskell-community><a href=#In-what-ways-will-this-project-benefit-the-wider-Haskell-community title="In what ways will this project benefit the wider Haskell community?"></a>In what ways will this project benefit the wider Haskell community?<a href=#in-what-ways-will-this-project-benefit-the-wider-haskell-community-in-what-ways-will-this-project-benefit-the-wider-haskell-communityin-what-ways-will-this-project-benefit-the-wider-haskell-community class=hanchor arialabel=Anchor>&#8983;</a> </h2>
<p>Along with GHC and Cabal, Hackage forms the core of the Haskell ecosystem. Improvements here should help the community as a whole.</p>
<h2 id=what-relevant-experience-do-you-have-what-relevant-experience-do-you-havewhat-relevant-experience-do-you-have><a href=#What-relevant-experience-do-you-have title="What relevant experience do you have?"></a>What relevant experience do you have?<a href=#what-relevant-experience-do-you-have-what-relevant-experience-do-you-havewhat-relevant-experience-do-you-have class=hanchor arialabel=Anchor>&#8983;</a> </h2>
<p>I’ve just finised the sophomore year of my bachelors in computer science.</p>
<p>I’ve been using and have been a supporter of free software since high school and have been programming for about 4 years. I’ve worked mainly
in python, javascript and C++ and have built and maintained multiple websites.<br>
I was introduced to functional programming when I learnt scheme a little over a year ago. I fell in love with the elegance of haskell over the last half year en route to becoming convinced that it a much better paradigm for writing programs in.<br>
I’ve used haskell in university for my OS course that involved multithreading. I’ve implemented a subset of scheme in Haskell and also
dabbled around in building parsers for toy languages.</p>
<h2 id=in-what-ways-do-you-envisage-interacting-with-the-wider-haskell-community-during-your-project-in-what-ways-do-you-envisage-interacting-with-the-wider-haskell-community-during-your-projectin-what-ways-do-you-envisage-interacting-with-the-wider-haskell-community-during-your-project><a href=#In-what-ways-do-you-envisage-interacting-with-the-wider-Haskell-community-during-your-project title="In what ways do you envisage interacting with the wider Haskell community during your project?"></a>In what ways do you envisage interacting with the wider Haskell community during your project?<a href=#in-what-ways-do-you-envisage-interacting-with-the-wider-haskell-community-during-your-project-in-what-ways-do-you-envisage-interacting-with-the-wider-haskell-community-during-your-projectin-what-ways-do-you-envisage-interacting-with-the-wider-haskell-community-during-your-project class=hanchor arialabel=Anchor>&#8983;</a> </h2>
<p>The haskell community is in general very helpful and I regularly hang around in #haskell and <a href=http://www.reddit.com/r/haskell>/r/haskell</a>
and am part of the Haskell learning Group on slack. Whenever stackoverflow has failed me in the past, I’ve turned to them and am
confident I’d be able to find help there if my mentor is otherwise occupied.</p>
<p>I have a <a href=http://soorya.dev/>blog</a> set up (with nothing on it yet) and if accepted, I’ll keep track of the developments there and post
updates to reddit and planet haskell.</p>
</div></div>
<div class=pagination>
<div class=pagination__title>
<span class=pagination__title-h>Read other posts</span>
<hr>
</div>
<div class=pagination__buttons>
<span class="button previous">
<a href=/posts/haskell_summer_of_code_testimonial/>
<span class=button__icon>←</span>
<span class=button__text>Haskell Summer of Code Testimonial</span>
</a>
</span>
</div>
</div>
</div>
</div>
<footer class=footer>
<div class=footer__inner>
<div class=copyright>
<span>© 2021 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span>
</div>
</div>
</footer>
<script src=/assets/main.js></script>
<script src=/assets/prism.js></script>
</div>
</body>
</html>